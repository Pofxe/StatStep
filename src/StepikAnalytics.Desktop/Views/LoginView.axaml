<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:StepikAnalytics.Desktop.ViewModels"
             x:Class="StepikAnalytics.Desktop.Views.LoginView"
             x:DataType="vm:LoginViewModel">
    
    <Grid Background="{StaticResource BackgroundBrush}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="480" />
        </Grid.ColumnDefinitions>
        
        <!-- Left side - decorative -->
        <Border Grid.Column="0" Background="#10B981" Padding="48">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="ðŸ“Š" FontSize="80" HorizontalAlignment="Center" Margin="0,0,0,24" />
                <TextBlock Text="Stepik Analytics"
                           FontSize="36"
                           FontWeight="Bold"
                           Foreground="White"
                           HorizontalAlignment="Center" />
                <TextBlock Text="ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ° Ð²Ð°ÑˆÐ¸Ñ… ÐºÑƒÑ€ÑÐ¾Ð²"
                           FontSize="18"
                           Foreground="#D1FAE5"
                           HorizontalAlignment="Center"
                           Margin="0,8,0,0" />
                <TextBlock Text="Ð¡Ð¾Ð±Ð¸Ñ€Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ, Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ,&#x0a;Ñ€Ð°Ð·Ð²Ð¸Ð²Ð°Ð¹Ñ‚Ðµ ÑÐ²Ð¾Ð¸ ÐºÑƒÑ€ÑÑ‹"
                           FontSize="14"
                           Foreground="#D1FAE5"
                           Opacity="0.8"
                           HorizontalAlignment="Center"
                           TextAlignment="Center"
                           Margin="0,24,0,0" />
            </StackPanel>
        </Border>
        
        <!-- Right side - login form -->
        <Border Grid.Column="1" Background="{StaticResource PaperBrush}" Padding="48">
            <StackPanel VerticalAlignment="Center" Spacing="24" MaxWidth="360">
                <StackPanel Spacing="8">
                    <TextBlock Text="Ð’Ñ…Ð¾Ð´ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ"
                               FontSize="28"
                               FontWeight="Bold"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               IsVisible="{Binding !IsRegistering}" />
                    <TextBlock Text="Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ"
                               FontSize="28"
                               FontWeight="Bold"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               IsVisible="{Binding IsRegistering}" />
                    <TextBlock Text="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð°"
                               FontSize="14"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               IsVisible="{Binding !IsRegistering}" />
                    <TextBlock Text="Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚ Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹"
                               FontSize="14"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               IsVisible="{Binding IsRegistering}" />
                </StackPanel>
                
                <!-- Error message -->
                <Border IsVisible="{Binding ErrorMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                        Background="#FEF2F2"
                        BorderBrush="#FECACA"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="16,12">
                    <TextBlock Text="{Binding ErrorMessage}"
                               Foreground="#DC2626"
                               FontSize="13"
                               TextWrapping="Wrap" />
                </Border>
                
                <!-- Form fields -->
                <StackPanel Spacing="16">
                    <StackPanel Spacing="6">
                        <TextBlock Text="Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ" 
                                   FontSize="13" 
                                   FontWeight="Medium"
                                   Foreground="{StaticResource TextPrimaryBrush}" />
                        <TextBox Text="{Binding Username}"
                                 Watermark="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ"
                                 Height="44"
                                 CornerRadius="8"
                                 FontSize="14"
                                 Padding="12,0" />
                    </StackPanel>
                    
                    <StackPanel Spacing="6" IsVisible="{Binding IsRegistering}">
                        <TextBlock Text="Email (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)" 
                                   FontSize="13" 
                                   FontWeight="Medium"
                                   Foreground="{StaticResource TextPrimaryBrush}" />
                        <TextBox Text="{Binding Email}"
                                 Watermark="email@example.com"
                                 Height="44"
                                 CornerRadius="8"
                                 FontSize="14"
                                 Padding="12,0" />
                    </StackPanel>
                    
                    <StackPanel Spacing="6">
                        <TextBlock Text="ÐŸÐ°Ñ€Ð¾Ð»ÑŒ" 
                                   FontSize="13" 
                                   FontWeight="Medium"
                                   Foreground="{StaticResource TextPrimaryBrush}" />
                        <TextBox Text="{Binding Password}"
                                 PasswordChar="â€¢"
                                 Watermark="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ"
                                 Height="44"
                                 CornerRadius="8"
                                 FontSize="14"
                                 Padding="12,0" />
                    </StackPanel>
                </StackPanel>
                
                <!-- Login button -->
                <Button Command="{Binding LoginCommand}"
                        IsVisible="{Binding !IsRegistering}"
                        IsEnabled="{Binding !IsLoading}"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Center"
                        Height="48"
                        Background="{StaticResource PrimaryBrush}"
                        Foreground="White"
                        FontWeight="SemiBold"
                        FontSize="15"
                        CornerRadius="8"
                        Cursor="Hand">
                    <Panel>
                        <TextBlock Text="Ð’Ð¾Ð¹Ñ‚Ð¸" IsVisible="{Binding !IsLoading}" />
                        <TextBlock Text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..." IsVisible="{Binding IsLoading}" />
                    </Panel>
                </Button>
                
                <!-- Register button -->
                <Button Command="{Binding RegisterCommand}"
                        IsVisible="{Binding IsRegistering}"
                        IsEnabled="{Binding !IsLoading}"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Center"
                        Height="48"
                        Background="{StaticResource PrimaryBrush}"
                        Foreground="White"
                        FontWeight="SemiBold"
                        FontSize="15"
                        CornerRadius="8"
                        Cursor="Hand">
                    <Panel>
                        <TextBlock Text="Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ" IsVisible="{Binding !IsLoading}" />
                        <TextBlock Text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..." IsVisible="{Binding IsLoading}" />
                    </Panel>
                </Button>
                
                <!-- Toggle mode -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="4">
                    <TextBlock Text="ÐÐµÑ‚ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°?"
                               FontSize="13"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               IsVisible="{Binding !IsRegistering}" />
                    <TextBlock Text="Ð£Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚?"
                               FontSize="13"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               IsVisible="{Binding IsRegistering}" />
                    <Button Content="Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ"
                            Command="{Binding ToggleModeCommand}"
                            IsVisible="{Binding !IsRegistering}"
                            Background="Transparent"
                            Foreground="{StaticResource PrimaryBrush}"
                            BorderThickness="0"
                            FontSize="13"
                            FontWeight="SemiBold"
                            Padding="0"
                            Cursor="Hand" />
                    <Button Content="Ð’Ð¾Ð¹Ñ‚Ð¸"
                            Command="{Binding ToggleModeCommand}"
                            IsVisible="{Binding IsRegistering}"
                            Background="Transparent"
                            Foreground="{StaticResource PrimaryBrush}"
                            BorderThickness="0"
                            FontSize="13"
                            FontWeight="SemiBold"
                            Padding="0"
                            Cursor="Hand" />
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
